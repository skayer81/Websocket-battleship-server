{"version":3,"file":"singlePlayHandle.js","sourceRoot":"","sources":["../../../../src/ws_server/singlePlay/singlePlayHandle.ts"],"names":[],"mappings":"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"}